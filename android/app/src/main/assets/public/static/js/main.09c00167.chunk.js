(this.webpackJsonpNewsy=this.webpackJsonpNewsy||[]).push([[7],{62:function(e,t,n){e.exports=n(95)},68:function(e,t,n){var a={"./ion-action-sheet-ios.entry.js":[99,31],"./ion-action-sheet-md.entry.js":[100,32],"./ion-alert-ios.entry.js":[101,33],"./ion-alert-md.entry.js":[102,34],"./ion-app_8-ios.entry.js":[103,13],"./ion-app_8-md.entry.js":[104,14],"./ion-avatar_3-ios.entry.js":[105,35],"./ion-avatar_3-md.entry.js":[106,36],"./ion-back-button-ios.entry.js":[107,37],"./ion-back-button-md.entry.js":[108,38],"./ion-backdrop-ios.entry.js":[109,79],"./ion-backdrop-md.entry.js":[110,80],"./ion-button_2-ios.entry.js":[111,39],"./ion-button_2-md.entry.js":[112,40],"./ion-card_5-ios.entry.js":[113,41],"./ion-card_5-md.entry.js":[114,42],"./ion-checkbox-ios.entry.js":[115,43],"./ion-checkbox-md.entry.js":[116,44],"./ion-chip-ios.entry.js":[117,45],"./ion-chip-md.entry.js":[118,46],"./ion-col_3.entry.js":[119,81],"./ion-datetime_3-ios.entry.js":[120,19],"./ion-datetime_3-md.entry.js":[121,20],"./ion-fab_3-ios.entry.js":[122,47],"./ion-fab_3-md.entry.js":[123,48],"./ion-img.entry.js":[124,82],"./ion-infinite-scroll_2-ios.entry.js":[125,83],"./ion-infinite-scroll_2-md.entry.js":[126,84],"./ion-input-ios.entry.js":[127,49],"./ion-input-md.entry.js":[128,50],"./ion-item-option_3-ios.entry.js":[129,51],"./ion-item-option_3-md.entry.js":[130,52],"./ion-item_8-ios.entry.js":[131,53],"./ion-item_8-md.entry.js":[132,54],"./ion-loading-ios.entry.js":[133,55],"./ion-loading-md.entry.js":[134,56],"./ion-menu_3-ios.entry.js":[135,57],"./ion-menu_3-md.entry.js":[136,58],"./ion-modal-ios.entry.js":[137,15],"./ion-modal-md.entry.js":[138,16],"./ion-nav_2.entry.js":[139,27],"./ion-popover-ios.entry.js":[140,17],"./ion-popover-md.entry.js":[141,18],"./ion-progress-bar-ios.entry.js":[142,59],"./ion-progress-bar-md.entry.js":[143,60],"./ion-radio_2-ios.entry.js":[144,61],"./ion-radio_2-md.entry.js":[145,62],"./ion-range-ios.entry.js":[146,63],"./ion-range-md.entry.js":[147,64],"./ion-refresher_2-ios.entry.js":[148,21],"./ion-refresher_2-md.entry.js":[149,22],"./ion-reorder_2-ios.entry.js":[150,29],"./ion-reorder_2-md.entry.js":[151,30],"./ion-ripple-effect.entry.js":[152,85],"./ion-route_4.entry.js":[153,65],"./ion-searchbar-ios.entry.js":[154,66],"./ion-searchbar-md.entry.js":[155,67],"./ion-segment_2-ios.entry.js":[156,68],"./ion-segment_2-md.entry.js":[157,69],"./ion-select_3-ios.entry.js":[158,70],"./ion-select_3-md.entry.js":[159,71],"./ion-slide_2-ios.entry.js":[160,86],"./ion-slide_2-md.entry.js":[161,87],"./ion-spinner.entry.js":[162,25],"./ion-split-pane-ios.entry.js":[163,88],"./ion-split-pane-md.entry.js":[164,89],"./ion-tab-bar_2-ios.entry.js":[165,72],"./ion-tab-bar_2-md.entry.js":[166,73],"./ion-tab_2.entry.js":[167,28],"./ion-text.entry.js":[168,74],"./ion-textarea-ios.entry.js":[169,75],"./ion-textarea-md.entry.js":[170,76],"./ion-toast-ios.entry.js":[171,77],"./ion-toast-md.entry.js":[172,78],"./ion-toggle-ios.entry.js":[173,23],"./ion-toggle-md.entry.js":[174,24],"./ion-virtual-scroll.entry.js":[175,90]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=68,e.exports=r},70:function(e,t,n){var a={"./ion-icon.entry.js":[179,93]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=70,e.exports=r},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(32),i=n.n(l),o=n(8),c=n(7),s=n(1),u=n(55),m=n(6),d=function(e){var t=e.title;return r.a.createElement(s.l,null,r.a.createElement(s.F,{style:{background:"#f0652f"},color:"primary"},r.a.createElement(s.E,{size:"large"},t)))},p=function(e){var t=e.title;return r.a.createElement(s.l,{collapse:"condense"},r.a.createElement(s.F,{style:{background:"#f0652f"},color:"primary"},r.a.createElement(s.E,{size:"large"},t)))},E=n(16),f=n(3),h=n.n(f),y=n(9),g=n(10),v=n(11),b=n(34),j=n.n(b),w=(n(78),n(80),{apiKey:"AIzaSyBbRmKGlH7zMRXEj8ZjQ_mcsfsqMqoRZrE",authDomain:"newsy-88ceb.firebaseapp.com",databaseURL:"https://newsy-88ceb.firebaseio.com",projectId:"newsy-88ceb",storageBucket:"newsy-88ceb.appspot.com",messagingSenderId:"480345351258",appId:"1:480345351258:web:4ee1a5ec33dd1cb7eca463"}),k=new(function(){function e(){Object(g.a)(this,e),j.a.initializeApp(w),this.app=j.a,this.auth=j.a.auth(),this.db=j.a.firestore()}return Object(v.a)(e,[{key:"register",value:function(){var e=Object(y.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(n,a);case 2:return r=e.sent,e.abrupt("return",r.user.updateProfile({displayName:t}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"login",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"resetPassword",value:function(e){return this.auth.sendPasswordResetEmail(e)}}]),e}());var x=n(59),C=function(e){var t=e.link,n=e.index,a=e.showCount,l=e.url,i=e.browser;return r.a.createElement(s.g,{routerLink:l,onClick:i,button:!0},r.a.createElement(s.h,{class:"ion-on-padding"},r.a.createElement(s.r,{lines:"none"},r.a.createElement(s.o,null,r.a.createElement(s.d,{style:{verticalAlign:"middle"},slot:"start"},a&&n),r.a.createElement(s.p,null,r.a.createElement("p",{style:{alignItems:"center",fontSize:"0.8rem",fontWeight:"normal"}},r.a.createElement(s.m,{icon:m.l,style:{verticalAlign:"middle"}})," ",r.a.createElement(s.C,{style:{verticalAlign:"middle"}},function(e){return new URL(e).hostname}(t.url))),r.a.createElement("div",{className:"ion-padding-vertical ion-text-wrap"},r.a.createElement("strong",{style:{fontzize:"1rem"}},t.description)),r.a.createElement("p",{style:{alignItems:"center",fontSize:"0.8 rem",fontWeight:"normal"}},r.a.createElement(s.m,{icon:m.f,style:{verticalAlign:"middle"}})," ",r.a.createElement(s.C,{style:{verticalAlign:"middle"}},t.voteCount," points")," | ",r.a.createElement(s.m,{icon:m.q,style:{verticalAlign:"middle"}})," ",r.a.createElement(s.C,{style:{verticalAlign:"middle"}},t.postedBy.name)," | ",r.a.createElement(s.m,{icon:m.v,style:{verticalAlign:"middle"}})," ",r.a.createElement(s.C,{style:{verticalAlign:"middle"}},Object(x.a)(t.created)),t.comments.lengths>0&&r.a.createElement(r.a.Fragment,null," | ",r.a.createElement(s.m,{icon:m.c,style:{verticalAlign:"middle"}})," ",r.a.createElement(s.C,{style:{verticalAlign:"middle"}},t.comments.length," comments"))," "))))))},O=function(e){var t=r.a.useState([]),n=Object(o.a)(t,2),a=n[0],l=n[1],i=e.location.pathname.includes("trending");function c(e){var t=e.docs.map((function(e){return Object(E.a)({id:e.id},e.data())}));l(t)}return r.a.useEffect((function(){var e=function(){if(i)return k.db.collection("links").orderBy("voteCount","desc").onSnapshot(c);return k.db.collection("links").orderBy("created","desc").onSnapshot(c)}();return function(){return e()}}),[i]),r.a.createElement(r.a.Fragment,null,a.map((function(e,t){return r.a.createElement(C,{key:e.id,showCount:!0,url:"/link/".concat(e.id),link:e,index:t+1})})))},A=function(e){return r.a.createElement(s.u,null,r.a.createElement(d,{title:"Newsy"}),r.a.createElement(s.j,{fullscreen:!0},r.a.createElement(p,{title:"Newsy"}),r.a.createElement(O,{location:e.location})))},S=function(e){return r.a.createElement(s.u,null,r.a.createElement(d,{title:"Trending"}),r.a.createElement(s.j,{fullscreen:!0},r.a.createElement(p,{title:"Trending"}),r.a.createElement(O,{location:e.location})))},P=r.a.createContext(null),_=n(20);function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,n=document.createElement("ion-toast");return n.message=e,n.duration=t,n.color="dark",document.body.appendChild(n),n.present()}var I=function(e,t,n){var a=r.a.useState(e),l=Object(o.a)(a,2),i=l[0],c=l[1],s=r.a.useState({}),u=Object(o.a)(s,2),m=u[0],d=u[1],p=r.a.useState(!1),f=Object(o.a)(p,2),h=f[0],y=f[1];return r.a.useEffect((function(){h&&(0===Object.keys(m).length?(n(),c(e),y(!1)):(q(Object.values(m).join(" ")),y(!1)))}),[m]),{handleSubmit:function(){var e=t(i);d(e),y(!0)},handleChange:function(e){c((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(_.a)({},e.target.name,e.target.value))}))},values:i,setValues:c,isSubmitting:h}};function L(e){var t={};return e.description?e.description.length<10&&(t.description="A Description must be of atleast 10 characters."):t.description="A Description is required.",e.url?/^(ftp|http|https):\/\/[^ "]+$/.test(e.url)||(t.url="The URL Must be Valid."):t.url="A URL is required.",t}var N={description:"",url:""},U=function(e){var t=r.a.useContext(P).user,n=I(N,L,(function(){if(t){var n=i.url,a=i.description,r={url:n,description:a,postedBy:{id:t.uid,name:t.displayName},voteCount:1,votes:[],comments:[],created:Date.now()};k.db.collection("links").add(r),e.history.push("/")}else e.history.push("/login")})),a=n.handleSubmit,l=n.handleChange,i=n.values;return r.a.createElement(s.u,null,r.a.createElement(d,{title:"Submit"}),r.a.createElement(s.j,{fullscreen:!0},r.a.createElement(p,{title:"Submit"}),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Description"),r.a.createElement(s.n,{name:"description",value:i.description,type:"text",onIonChange:l,required:!0})),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"URL"),r.a.createElement(s.n,{name:"url",value:i.url,type:"url",onIonChange:l,required:!0})),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{type:"submit",color:"primary",expand:"block",onClick:a},"Submit")))))},Y=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),n=t[0],a=t[1],l=r.a.useState(""),i=Object(o.a)(l,2),c=i[0],u=i[1],m=r.a.useState([]),f=Object(o.a)(m,2),h=f[0],y=f[1];return r.a.useEffect((function(){k.db.collection("links").get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)({id:e.id},e.data())}));a(t)}))}),[]),r.a.useEffect((function(){!function(){var e=c.toLowerCase(),t=n.filter((function(t){return t.description.toLowerCase().includes(e)||t.url.toLowerCase().includes(e)||t.postedBy.name.toLowerCase().includes(e)}));y(t)}()}),[c]),r.a.createElement(s.u,null,r.a.createElement(d,{title:"Search"}),r.a.createElement(s.j,{fullscreen:!0},r.a.createElement(p,{title:"Search"}),r.a.createElement(s.y,{placeholder:"Search",spellcheck:"false",type:"url",value:c,onKeyPress:function(e){"Enter"===e.key&&u(e.target.value)},animated:!0}),h.map((function(e,t){return r.a.createElement(C,{key:e.id,showCount:!1,link:e,index:t,url:"/link/".concat(e.id)})}))))},B=function(e){var t=r.a.useContext(P).user;function n(){return(n=Object(y.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.logout();case 3:e.history.push("/"),q("You have Logged out successfully."),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Logout Error",t.t0),q(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return r.a.createElement(s.u,null,r.a.createElement(d,{title:"Profile"}),r.a.createElement(s.j,{fullscreen:!0},r.a.createElement(p,{title:"Profile"}),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.g,null,r.a.createElement(s.h,null,r.a.createElement(s.r,{lines:"none"},r.a.createElement(s.o,null,r.a.createElement(s.m,{icon:m.q,slot:"start"}),r.a.createElement(s.p,null,r.a.createElement("strong",null,t.displayName),r.a.createElement("p",null,"UserName"))),r.a.createElement(s.o,null,r.a.createElement(s.m,{icon:m.m,slot:"start"}),r.a.createElement(s.p,null,r.a.createElement("strong",null,t.email),r.a.createElement("p",null,"Email")))))),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{expand:"block",routerLink:"/edit-profile",color:"primary",fill:"outline"},"Edit Profile"))),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{expand:"block",onClick:function(){return n.apply(this,arguments)}},"Log Out")))):r.a.createElement(s.k,null,r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{expand:"block",routerLink:"/register",color:"primary"},"Sign Up"))),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{expand:"block",routerLink:"/login",color:"primary",fill:"outline"},"Log In"))))))},D=function(e){var t=e.title,n=e.option,a=e.icon,l=e.action;return r.a.createElement(s.l,null,r.a.createElement(s.F,{color:"primary"},r.a.createElement(s.f,{slot:"start"},r.a.createElement(s.c,{defaultHref:"/"})),n&&r.a.createElement(s.f,{slot:"primary"},r.a.createElement(s.f,{onClick:l},r.a.createElement(s.m,{slot:"icon-only",icon:a}))),r.a.createElement(s.E,null,t)))};function z(e){var t={};return e.name||(t.name="A username is required."),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Your email is invalid."):t.email="Your email is required.",e.currentPassword?e.currentPassword.length<6&&(t.currentPassword="Your current password must be at least 6 characters."):t.currentPassword="Your current password is required.",e.newPassword.length<6&&(t.newPassword="Your new password must be at least 6 characters."),t}var R=function(e){var t=r.a.useContext(P),n=t.user,a=t.setUser,l={name:n&&n.displayName,email:n&&n.email,newPassword:"",currentPassword:""},i=I(l,z,(function(){return O.apply(this,arguments)})),c=i.handleSubmit,u=i.handleChange,m=i.setValues,d=i.values,p=i.isSubmitting,E=r.a.useState(!1),f=Object(o.a)(E,2),g=f[0],v=f[1];function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.app.auth.EmailAuthProvider.credential(t,a),e.prev=1,e.next=4,n.reauthenticateWithCredential(r);case 4:console.log("Reauthentication is Successful."),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Profile Update Error",e.t0),q(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function b(e,t){return w.apply(this,arguments)}function w(){return(w=Object(y.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.app.auth.EmailAuthProvider.credential(t,a),e.prev=1,e.next=4,n.reauthenticateWithCredential(r);case 4:console.log("Reauthentication Successful."),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Profile Update Error."),q(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function x(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(y.a)(h.a.mark((function e(t,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateProfile({displayName:t});case 2:return e.next=4,n.updateEmail(a);case 4:if(!r){e.next=7;break}return e.next=7,n.updatePassword(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(y.a)(h.a.mark((function t(){var r,l,i,o,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),r=d.name,l=d.email,i=d.currentPassword,o=d.newPassword,t.prev=2,t.next=5,b(n.email,i);case 5:return t.next=7,x(r,l,o);case 7:return t.next=9,k.login(l,o||i);case 9:c=t.sent,m({name:n&&n.displayName,email:n&&n.email,newPassword:"",currentPassword:""}),a(c.user),q("You have updated your profile successfully."),e.history.push("/profile"),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),console.error("Profile Update Error",t.t0),q(t.t0.message);case 20:v(!1);case 21:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}return r.a.createElement(s.u,null,r.a.createElement(D,{title:"Edit Profile"}),r.a.createElement(s.s,{message:"Please wait...",isOpen:g}),r.a.createElement(s.j,null,r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Username"),r.a.createElement(s.n,{name:"name",type:"text",value:d.name,onIonChange:u,required:!0})),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Email"),r.a.createElement(s.n,{name:"email",type:"text",value:d.email,onIonChange:u,required:!0})),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"New Password"),r.a.createElement(s.n,{name:"newPassword",type:"password",value:d.newPassword,onIonChange:u,required:!0})),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Current Password"),r.a.createElement(s.n,{name:"currentPassword",type:"password",value:d.currentPassword,onIonChange:u,required:!0})),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{type:"submit",color:"primary",expand:"block",onClick:c,disabled:p},"Save")))))};function Z(e){var t={};return e.name||(t.name="A username is required."),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Your email is invalid."):t.email="Your email is required.",e.password?e.password.length<6&&(t.password="Your password must be at least 6 characters."):t.password="A password is required.",t}var F={name:"",email:"",password:""},W=function(e){var t=I(F,Z,(function(){return p.apply(this,arguments)})),n=t.handleSubmit,a=t.handleChange,l=t.values,i=t.isSubmitting,c=r.a.useState(!1),u=Object(o.a)(c,2),m=u[0],d=u[1];function p(){return(p=Object(y.a)(h.a.mark((function t(){var n,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),n=l.name,a=l.email,r=l.password,t.prev=2,t.next=5,k.register(n,a,r);case 5:q("You have signed up successfully!"),e.history.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Authentication Error",t.t0),q(t.t0.message);case 13:d(!1);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}return r.a.createElement(s.u,null,r.a.createElement(D,{title:"Sign Up"}),r.a.createElement(s.s,{message:"Please wait...",isOpen:m}),r.a.createElement(s.j,null,r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Username"),r.a.createElement(s.n,{name:"name",type:"text",value:l.name,onIonChange:a,required:!0})),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Email"),r.a.createElement(s.n,{name:"email",type:"text",value:l.email,onIonChange:a,required:!0})),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Password"),r.a.createElement(s.n,{name:"password",type:"password",value:l.password,onIonChange:a,required:!0})),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{type:"submit",color:"primary",expand:"block",onClick:n,disabled:i},"Sign Up")))))};function T(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Your email is invalid."):t.email="Your email is required.",e.password?e.password.length<6&&(t.password="Your password must be at least 6 characters."):t.password="A password is required.",t}var $={email:"",password:""},M=function(e){var t=I($,T,(function(){return p.apply(this,arguments)})),n=t.handleSubmit,a=t.handleChange,l=t.values,i=t.isSubmitting,c=r.a.useState(!1),u=Object(o.a)(c,2),m=u[0],d=u[1];function p(){return(p=Object(y.a)(h.a.mark((function t(){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),n=l.email,a=l.password,t.prev=2,t.next=5,k.login(n,a);case 5:q("You have logged in successfully!"),e.history.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Authentication Error",t.t0),q(t.t0.message);case 13:d(!1);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}return r.a.createElement(s.u,null,r.a.createElement(D,{title:"Log In"}),r.a.createElement(s.s,{message:"Please wait...",isOpen:m}),r.a.createElement(s.j,null,r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Email"),r.a.createElement(s.n,{name:"email",type:"text",value:l.email,onIonChange:a,required:!0})),r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Password"),r.a.createElement(s.n,{name:"password",type:"password",value:l.password,onIonChange:a,required:!0})),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{type:"submit",color:"primary",expand:"block",onClick:n,disabled:i},"Log In"))),r.a.createElement(s.x,null,r.a.createElement(s.i,{class:"ion-text-center ion-padding-vertical"},r.a.createElement(s.v,{routerLink:"/forgot"},"Forgot Password?")))))};function K(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Your email is invalid."):t.email="Your email is required.",t}var V={email:""},G=function(){var e=I(V,K,(function(){return d.apply(this,arguments)})),t=e.handleSubmit,n=e.handleChange,a=e.values,l=e.isSubmitting,i=r.a.useState(!1),c=Object(o.a)(i,2),u=c[0],m=c[1];function d(){return(d=Object(y.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),t=a.email,e.prev=2,e.next=5,k.resetPassword(t);case 5:q("Check your email to reset your password."),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Password Reset Error",e.t0),q(e.t0.message);case 12:m(!1);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return r.a.createElement(s.u,null,r.a.createElement(D,{title:"Password Reset"}),r.a.createElement(s.s,{message:"Please wait...",isOpen:u}),r.a.createElement(s.j,null,r.a.createElement(s.o,{lines:"full"},r.a.createElement(s.p,{position:"floating"},"Email"),r.a.createElement(s.n,{name:"email",type:"text",value:a.email,onIonChange:n,required:!0})),r.a.createElement(s.x,null,r.a.createElement(s.i,null,r.a.createElement(s.e,{type:"submit",color:"primary",expand:"block",onClick:t,disabled:l},"Get Reset Link")))))},H=n(43),J=n(58),Q=function(e){var t=e.isOpen,n=e.title,a=e.sendAction,l=e.closeAction,i=e.comment,c=r.a.useState(i?i.text:""),u=Object(o.a)(c,2),m=u[0],d=u[1];return r.a.createElement(s.t,{isOpen:t,onDidDismiss:l},r.a.createElement(s.l,{translucent:!0},r.a.createElement(s.F,{color:"primary"},r.a.createElement(s.E,null,n),r.a.createElement(s.e,{slot:"start"},r.a.createElement(s.e,{onClick:l},"Close")),r.a.createElement(s.e,{slot:"end"},r.a.createElement(s.e,{onClick:function(){return a(m),void d("")}},"Send")))),r.a.createElement(s.j,{fullscreen:!0},r.a.createElement(s.D,{row:25,col:25,placeholder:"Your Comment",value:m,onIonChange:function(e){return d(e.target.value)}})))},X=function(e){var t=e.comment,n=e.link,a=e.setLink,l=r.a.useContext(P).user,i=r.a.useState(!1),c=Object(o.a)(i,2),u=c[0],m=c[1],d=l&&l.uid===t.postedBy.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{isOpen:u,title:"Edit Comment",sendAction:function(e){var r=k.db.collection("links").doc(n.id);r.get().then((function(n){if(n.exists){var i=n.data().comments,o={postedBy:{id:l.uid,name:l.displayName},created:Date.now(),text:e},c=i.map((function(e){return e.created===t.created?o:e}));r.update({comments:c}),a((function(e){return Object(E.a)(Object(E.a)({},e),{},{comments:c})}))}})),m(!1)},closeAction:function(){m(!1)},comment:t}),r.a.createElement(s.g,null,r.a.createElement(s.h,null,r.a.createElement(s.r,{lines:"none"},r.a.createElement(s.o,null,r.a.createElement(s.p,{class:"ion-text-wrap"},r.a.createElement("p",{style:{alignItems:"center",fontSize:"0.8rem",fontWeight:"normal"}},t.postedBy.name," "," | ",Object(x.a)(t.created)),r.a.createElement("div",{className:"ion-padding-vertical"},t.text),d&&r.a.createElement(s.e,{size:"small",onClick:function(){return m(!0)}},"Edit"),d&&r.a.createElement(s.e,{size:"small",onClick:function(){return function(){var e=k.db.collection("links").doc(n.id);e.get().then((function(n){if(n.exists){var r=n.data().comments.filter((function(e){return e.created!==t.created}));e.update({comments:r}),a((function(e){return Object(E.a)(Object(E.a)({},e),{},{comments:r})}))}}))}()}},"Delete")))))))},ee=J.a.Browser,te=function(e){var t=r.a.useContext(P).user,n=r.a.useState(null),a=Object(o.a)(n,2),l=a[0],i=a[1],c=r.a.useState(!1),u=Object(o.a)(c,2),d=u[0],p=u[1],f=e.match.params.linkId,g=k.db.collection("links").doc(f);function v(){return(v=Object(y.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.open({url:l.url});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.useEffect((function(){g.get().then((function(e){i(Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id}))}))}),[f]),r.a.createElement(s.u,null,r.a.createElement(D,{title:l&&l.description,option:l&&function(e){return t&&t.uid===e.postedBy.id}(l),icon:m.i,action:function(){g.delete().then((function(){console.log("Document with ID ".concat(l.id," deleted"))})).catch((function(e){console.error("Error deleting document",e)})),e.history.push("/")}}),r.a.createElement(s.j,null,r.a.createElement(Q,{isOpen:d,title:"New Comment",sendAction:function(n){t?(g.get().then((function(e){if(e.exists){var a=e.data().comments,r={postedBy:{id:t.uid,name:t.displayName},created:Date.now(),text:n},l=[].concat(Object(H.a)(a),[r]);g.update({comments:l}),i((function(e){return Object(E.a)(Object(E.a)({},e),{},{comments:l})}))}})),p(!1)):e.history.push("/login")},closeAction:function(){p(!1)}}),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.k,null,r.a.createElement(s.x,null,r.a.createElement(s.i,{class:"ion-text-center"},r.a.createElement(C,{link:l,browser:function(){return v.apply(this,arguments)}}),r.a.createElement(s.e,{onClick:function(){t?g.get().then((function(e){if(e.exists){var n=e.data().votes,a={votedBy:{id:t.uid,name:t.displayName}},r=[].concat(Object(H.a)(n),[a]),l=r.length;g.update({votes:r,voteCount:l}),i((function(e){return Object(E.a)(Object(E.a)({},e),{},{votes:r,voteCount:l})}))}})):e.history.push("/login")},size:"small"},"Upvote"),r.a.createElement(s.e,{onClick:function(){t?p(!0):e.history.push("/login")},size:"small"},"Comment")))),l.comments.map((function(e,t){return r.a.createElement(X,{key:t,comment:e,link:l,setLink:i})})))))};var ne=function(){var e=r.a.useState(null),t=Object(o.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){var e=k.auth.onAuthStateChanged((function(e){a(e||null)}));return function(){return e()}}),[]),[n,a]},ae=(n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),function(){var e=ne(),t=Object(o.a)(e,2),n=t[0],a=t[1];return r.a.createElement(s.b,null,r.a.createElement(u.a,null,r.a.createElement(P.Provider,{value:{user:n,setUser:a}},r.a.createElement(s.B,null,r.a.createElement(s.w,null,r.a.createElement(c.c,{path:"/",render:function(){return r.a.createElement(c.b,{to:"/news"})},exact:!0}),r.a.createElement(c.c,{path:"/news",component:A}),r.a.createElement(c.c,{path:"/trending",component:S}),r.a.createElement(c.c,{path:"/submit",component:U}),r.a.createElement(c.c,{path:"/search",component:Y}),r.a.createElement(c.c,{path:"/profile",component:B}),r.a.createElement(c.c,{path:"/edit-profile",component:R}),r.a.createElement(c.c,{path:"/register",component:W}),r.a.createElement(c.c,{path:"/login",component:M}),r.a.createElement(c.c,{path:"/forgot",component:G}),r.a.createElement(c.c,{path:"/link/:linkId",component:te}),r.a.createElement(c.c,{component:function(){return r.a.createElement(c.b,{to:"/news"})}})),r.a.createElement(s.z,{slot:"bottom"},r.a.createElement(s.A,{tab:"news",href:"/news"},r.a.createElement(s.m,{icon:m.p}),r.a.createElement(s.p,null,"Newsy")),r.a.createElement(s.A,{tab:"trending",href:"/trending"},r.a.createElement(s.m,{icon:m.w}),r.a.createElement(s.p,null,"Trending")),r.a.createElement(s.A,{tab:"submit",href:"/submit"},r.a.createElement(s.m,{icon:m.k}),r.a.createElement(s.p,null,"Submit")),r.a.createElement(s.A,{tab:"search",href:"/search"},r.a.createElement(s.m,{icon:m.t}),r.a.createElement(s.p,null,"Search")),r.a.createElement(s.A,{tab:"profile",href:"/profile"},r.a.createElement(s.m,{icon:m.q}),r.a.createElement(s.p,null,"Profile")))))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[62,9,12]]]);
//# sourceMappingURL=main.09c00167.chunk.js.map