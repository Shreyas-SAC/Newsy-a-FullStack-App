{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import{IonPage,IonContent,IonItem,IonLabel,IonInput,IonRow,IonCol,IonButton,IonLoading}from\"@ionic/react\";import NavHeader from\"../../components/Header/NavHeader\";import validatePasswordReset from\"../../validators/validatePasswordReset\";import useForm from\"../../hooks/useForm\";import firebase from\"../../firebase\";import{toast}from\"../../helpers/toast\";var INITIAL_STATE={email:\"\"};var Forgot=function Forgot(){var _useForm=useForm(INITIAL_STATE,validatePasswordReset,handleResetPassword),handleSubmit=_useForm.handleSubmit,handleChange=_useForm.handleChange,values=_useForm.values,isSubmitting=_useForm.isSubmitting;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),busy=_React$useState2[0],setBusy=_React$useState2[1];function handleResetPassword(){return _handleResetPassword.apply(this,arguments);}function _handleResetPassword(){_handleResetPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var email;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setBusy(true);email=values.email;_context.prev=2;_context.next=5;return firebase.resetPassword(email);case 5:toast(\"Check your email to reset your password.\");_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.error(\"Password Reset Error\",_context.t0);toast(_context.t0.message);case 12:setBusy(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return _handleResetPassword.apply(this,arguments);}return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(NavHeader,{title:\"Password Reset\"}),/*#__PURE__*/React.createElement(IonLoading,{message:\"Please wait...\",isOpen:busy}),/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(IonItem,{lines:\"full\"},/*#__PURE__*/React.createElement(IonLabel,{position:\"floating\"},\"Email\"),/*#__PURE__*/React.createElement(IonInput,{name:\"email\",type:\"text\",value:values.email,onIonChange:handleChange,required:true})),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonButton,{type:\"submit\",color:\"primary\",expand:\"block\",onClick:handleSubmit,disabled:isSubmitting},\"Get Reset Link\")))));};export default Forgot;","map":{"version":3,"sources":["C:/Users/shrey/Desktop/ReactProject/Newsy/src/pages/Auth/Forgot.js"],"names":["React","IonPage","IonContent","IonItem","IonLabel","IonInput","IonRow","IonCol","IonButton","IonLoading","NavHeader","validatePasswordReset","useForm","firebase","toast","INITIAL_STATE","email","Forgot","handleResetPassword","handleSubmit","handleChange","values","isSubmitting","useState","busy","setBusy","resetPassword","console","error","message"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,OADF,CAEEC,UAFF,CAGEC,OAHF,CAIEC,QAJF,CAKEC,QALF,CAMEC,MANF,CAOEC,MAPF,CAQEC,SARF,CASEC,UATF,KAUO,cAVP,CAWA,MAAOC,CAAAA,SAAP,KAAsB,mCAAtB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,wCAAlC,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,OAASC,KAAT,KAAsB,qBAAtB,CAEA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,KAAK,CAAE,EADa,CAAtB,CAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,cAC0CL,OAAO,CAClEG,aADkE,CAElEJ,qBAFkE,CAGlEO,mBAHkE,CADjD,CACXC,YADW,UACXA,YADW,CACGC,YADH,UACGA,YADH,CACiBC,MADjB,UACiBA,MADjB,CACyBC,YADzB,UACyBA,YADzB,qBAMKtB,KAAK,CAACuB,QAAN,CAAe,KAAf,CANL,oDAMZC,IANY,qBAMNC,OANM,6BAQJP,CAAAA,mBARI,mKAQnB,6IACEO,OAAO,CAAC,IAAD,CAAP,CACQT,KAFV,CAEoBK,MAFpB,CAEUL,KAFV,uCAIUH,CAAAA,QAAQ,CAACa,aAAT,CAAuBV,KAAvB,CAJV,QAKIF,KAAK,CAAC,0CAAD,CAAL,CALJ,+EAOIa,OAAO,CAACC,KAAR,CAAc,sBAAd,cACAd,KAAK,CAAC,YAAIe,OAAL,CAAL,CARJ,QAUEJ,OAAO,CAAC,KAAD,CAAP,CAVF,oEARmB,sDAqBnB,mBACE,oBAAC,OAAD,mBACE,oBAAC,SAAD,EAAW,KAAK,CAAC,gBAAjB,EADF,cAEE,oBAAC,UAAD,EAAY,OAAO,CAAE,gBAArB,CAAuC,MAAM,CAAED,IAA/C,EAFF,cAGE,oBAAC,UAAD,mBACE,oBAAC,OAAD,EAAS,KAAK,CAAC,MAAf,eACE,oBAAC,QAAD,EAAU,QAAQ,CAAC,UAAnB,UADF,cAEE,oBAAC,QAAD,EACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEH,MAAM,CAACL,KAHhB,CAIE,WAAW,CAAEI,YAJf,CAKE,QAAQ,KALV,EAFF,CADF,cAWE,oBAAC,MAAD,mBACE,oBAAC,MAAD,mBACE,oBAAC,SAAD,EACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,SAFR,CAGE,MAAM,CAAC,OAHT,CAIE,OAAO,CAAED,YAJX,CAKE,QAAQ,CAAEG,YALZ,mBADF,CADF,CAXF,CAHF,CADF,CA+BD,CApDD,CAsDA,cAAeL,CAAAA,MAAf","sourcesContent":["import React from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonRow,\r\n  IonCol,\r\n  IonButton,\r\n  IonLoading,\r\n} from \"@ionic/react\";\r\nimport NavHeader from \"../../components/Header/NavHeader\";\r\nimport validatePasswordReset from \"../../validators/validatePasswordReset\";\r\nimport useForm from \"../../hooks/useForm\";\r\nimport firebase from \"../../firebase\";\r\nimport { toast } from \"../../helpers/toast\";\r\n\r\nconst INITIAL_STATE = {\r\n  email: \"\",\r\n};\r\n\r\nconst Forgot = () => {\r\n  const { handleSubmit, handleChange, values, isSubmitting } = useForm(\r\n    INITIAL_STATE,\r\n    validatePasswordReset,\r\n    handleResetPassword\r\n  );\r\n  const [busy, setBusy] = React.useState(false);\r\n\r\n  async function handleResetPassword() {\r\n    setBusy(true);\r\n    const { email } = values;\r\n    try {\r\n      await firebase.resetPassword(email);\r\n      toast(\"Check your email to reset your password.\");\r\n    } catch (err) {\r\n      console.error(\"Password Reset Error\", err);\r\n      toast(err.message);\r\n    }\r\n    setBusy(false);\r\n  }\r\n\r\n  return (\r\n    <IonPage>\r\n      <NavHeader title=\"Password Reset\" />\r\n      <IonLoading message={\"Please wait...\"} isOpen={busy} />\r\n      <IonContent>\r\n        <IonItem lines=\"full\">\r\n          <IonLabel position=\"floating\">Email</IonLabel>\r\n          <IonInput\r\n            name=\"email\"\r\n            type=\"text\"\r\n            value={values.email}\r\n            onIonChange={handleChange}\r\n            required\r\n          ></IonInput>\r\n        </IonItem>\r\n        <IonRow>\r\n          <IonCol>\r\n            <IonButton\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              expand=\"block\"\r\n              onClick={handleSubmit}\r\n              disabled={isSubmitting}\r\n            >\r\n              Get Reset Link\r\n            </IonButton>\r\n          </IonCol>\r\n        </IonRow>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Forgot;\r\n"]},"metadata":{},"sourceType":"module"}