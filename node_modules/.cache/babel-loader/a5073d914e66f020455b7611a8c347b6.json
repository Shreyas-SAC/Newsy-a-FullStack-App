{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import{IonPage,IonContent,IonItem,IonLabel,IonInput,IonRow,IonCol,IonButton,IonLoading}from\"@ionic/react\";import NavHeader from\"../../components/Header/NavHeader\";import{toast}from\"../../helpers/toast\";import useForm from\"../../hooks/useForm\";import validateSignup from\"../../validators/validateSignup\";import firebase from\"../../firebase\";var INITIAL_STATE={name:\"\",email:\"\",password:\"\"};var Signup=function Signup(props){var _useForm=useForm(INITIAL_STATE,validateSignup,authenticateUser),handleSubmit=_useForm.handleSubmit,handleChange=_useForm.handleChange,values=_useForm.values,isSubmitting=_useForm.isSubmitting;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),busy=_React$useState2[0],setBusy=_React$useState2[1];function authenticateUser(){return _authenticateUser.apply(this,arguments);}function _authenticateUser(){_authenticateUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var name,email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setBusy(true);name=values.name,email=values.email,password=values.password;_context.prev=2;_context.next=5;return firebase.register(name,email,password);case 5:toast(\"You have signed up successfully!\");props.history.push(\"/\");_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.error(\"Authentication Error\",_context.t0);toast(_context.t0.message);case 13:setBusy(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return _authenticateUser.apply(this,arguments);}return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(NavHeader,{title:\"Sign Up\"}),/*#__PURE__*/React.createElement(IonLoading,{message:\"Please wait...\",isOpen:busy}),/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(IonItem,{lines:\"full\"},/*#__PURE__*/React.createElement(IonLabel,{position:\"floating\"},\"Username\"),/*#__PURE__*/React.createElement(IonInput,{name:\"name\",type:\"text\",value:values.name,onIonChange:handleChange,required:true})),/*#__PURE__*/React.createElement(IonItem,{lines:\"full\"},/*#__PURE__*/React.createElement(IonLabel,{position:\"floating\"},\"Email\"),/*#__PURE__*/React.createElement(IonInput,{name:\"email\",type:\"text\",value:values.email,onIonChange:handleChange,required:true})),/*#__PURE__*/React.createElement(IonItem,{lines:\"full\"},/*#__PURE__*/React.createElement(IonLabel,{position:\"floating\"},\"Password\"),/*#__PURE__*/React.createElement(IonInput,{name:\"password\",type:\"password\",value:values.password,onIonChange:handleChange,required:true})),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonButton,{type:\"submit\",color:\"primary\",expand:\"block\",onClick:handleSubmit,disabled:isSubmitting},\"Sign Up\")))));};export default Signup;","map":{"version":3,"sources":["C:/Users/shrey/Desktop/ReactProject/Newsy/src/pages/Auth/Signup.js"],"names":["React","IonPage","IonContent","IonItem","IonLabel","IonInput","IonRow","IonCol","IonButton","IonLoading","NavHeader","toast","useForm","validateSignup","firebase","INITIAL_STATE","name","email","password","Signup","props","authenticateUser","handleSubmit","handleChange","values","isSubmitting","useState","busy","setBusy","register","history","push","console","error","message"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonRow,\r\n  IonCol,\r\n  IonButton,\r\n  IonLoading,\r\n} from \"@ionic/react\";\r\nimport NavHeader from \"../../components/Header/NavHeader\";\r\nimport { toast } from \"../../helpers/toast\";\r\nimport useForm from \"../../hooks/useForm\";\r\nimport validateSignup from \"../../validators/validateSignup\";\r\nimport firebase from \"../../firebase\";\r\n\r\nconst INITIAL_STATE = {\r\n  name: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst Signup = (props) => {\r\n  const { handleSubmit, handleChange, values, isSubmitting } = useForm(\r\n    INITIAL_STATE,\r\n    validateSignup,\r\n    authenticateUser\r\n  );\r\n  const [busy, setBusy] = React.useState(false);\r\n\r\n  async function authenticateUser() {\r\n    setBusy(true);\r\n    const { name, email, password } = values;\r\n    try {\r\n      await firebase.register(name, email, password);\r\n      toast(\"You have signed up successfully!\");\r\n      props.history.push(\"/\");\r\n    } catch (err) {\r\n      console.error(\"Authentication Error\", err);\r\n      toast(err.message);\r\n    }\r\n    setBusy(false);\r\n  }\r\n\r\n  return (\r\n    <IonPage>\r\n      <NavHeader title=\"Sign Up\" />\r\n      <IonLoading message={\"Please wait...\"} isOpen={busy} />\r\n      <IonContent>\r\n        <IonItem lines=\"full\">\r\n          <IonLabel position=\"floating\">Username</IonLabel>\r\n          <IonInput\r\n            name=\"name\"\r\n            type=\"text\"\r\n            value={values.name}\r\n            onIonChange={handleChange}\r\n            required\r\n          ></IonInput>\r\n        </IonItem>\r\n        <IonItem lines=\"full\">\r\n          <IonLabel position=\"floating\">Email</IonLabel>\r\n          <IonInput\r\n            name=\"email\"\r\n            type=\"text\"\r\n            value={values.email}\r\n            onIonChange={handleChange}\r\n            required\r\n          ></IonInput>\r\n        </IonItem>\r\n        <IonItem lines=\"full\">\r\n          <IonLabel position=\"floating\">Password</IonLabel>\r\n          <IonInput\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={values.password}\r\n            onIonChange={handleChange}\r\n            required\r\n          ></IonInput>\r\n        </IonItem>\r\n        <IonRow>\r\n          <IonCol>\r\n            <IonButton\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              expand=\"block\"\r\n              onClick={handleSubmit}\r\n              disabled={isSubmitting}\r\n            >\r\n              Sign Up\r\n            </IonButton>\r\n          </IonCol>\r\n        </IonRow>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}