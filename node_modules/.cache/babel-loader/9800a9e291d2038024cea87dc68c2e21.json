{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import{toast}from\"../helpers/toast\";function useForm(initialState,validate,action){var _React$useState=React.useState(initialState),_React$useState2=_slicedToArray(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1];var _React$useState3=React.useState({}),_React$useState4=_slicedToArray(_React$useState3,2),errors=_React$useState4[0],setErrors=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isSubmitting=_React$useState6[0],setSubmitting=_React$useState6[1];React.useEffect(function(){if(isSubmitting){var noErrors=Object.keys(errors).length===0;if(noErrors){action();setValues(initialState);setSubmitting(false);}else{toast(Object.values(errors).join(\" \"));setSubmitting(false);}}//eslint-disabled-next-line\n},[errors]);function handleChange(event){setValues(function(previousValues){return _objectSpread(_objectSpread({},previousValues),{},_defineProperty({},event.target.name,event.target.value));});}function handleSubmit(){var validationErrors=validate(values);setErrors(validationErrors);setSubmitting(true);}return{handleSubmit:handleSubmit,handleChange:handleChange,values:values,setValues:setValues,isSubmitting:isSubmitting};}export default useForm;","map":{"version":3,"sources":["C:/Users/shrey/Desktop/ReactProject/Newsy/src/hooks/useForm.js"],"names":["React","toast","useForm","initialState","validate","action","useState","values","setValues","errors","setErrors","isSubmitting","setSubmitting","useEffect","noErrors","Object","keys","length","join","handleChange","event","previousValues","target","name","value","handleSubmit","validationErrors"],"mappings":"+fAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,kBAAtB,CAEA,QAASC,CAAAA,OAAT,CAAiBC,YAAjB,CAA+BC,QAA/B,CAAyCC,MAAzC,CAAiD,qBACnBL,KAAK,CAACM,QAAN,CAAeH,YAAf,CADmB,oDACxCI,MADwC,qBAChCC,SADgC,0CAEnBR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFmB,qDAExCG,MAFwC,qBAEhCC,SAFgC,0CAGTV,KAAK,CAACM,QAAN,CAAe,KAAf,CAHS,qDAGxCK,YAHwC,qBAG1BC,aAH0B,qBAK/CZ,KAAK,CAACa,SAAN,CAAgB,UAAM,CACpB,GAAIF,YAAJ,CAAkB,CAChB,GAAMG,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAP,CAAYP,MAAZ,EAAoBQ,MAApB,GAA+B,CAAhD,CACA,GAAIH,QAAJ,CAAc,CACZT,MAAM,GACNG,SAAS,CAACL,YAAD,CAAT,CACAS,aAAa,CAAC,KAAD,CAAb,CACD,CAJD,IAIO,CACLX,KAAK,CAACc,MAAM,CAACR,MAAP,CAAcE,MAAd,EAAsBS,IAAtB,CAA2B,GAA3B,CAAD,CAAL,CACAN,aAAa,CAAC,KAAD,CAAb,CACD,CACF,CACD;AACD,CAbD,CAaG,CAACH,MAAD,CAbH,EAeA,QAASU,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BZ,SAAS,CAAC,SAACa,cAAD,wCACLA,cADK,wBAEPD,KAAK,CAACE,MAAN,CAAaC,IAFN,CAEaH,KAAK,CAACE,MAAN,CAAaE,KAF1B,IAAD,CAAT,CAID,CAED,QAASC,CAAAA,YAAT,EAAwB,CACtB,GAAMC,CAAAA,gBAAgB,CAAGtB,QAAQ,CAACG,MAAD,CAAjC,CACAG,SAAS,CAACgB,gBAAD,CAAT,CACAd,aAAa,CAAC,IAAD,CAAb,CACD,CAED,MAAO,CACLa,YAAY,CAAZA,YADK,CAELN,YAAY,CAAZA,YAFK,CAGLZ,MAAM,CAANA,MAHK,CAILC,SAAS,CAATA,SAJK,CAKLG,YAAY,CAAZA,YALK,CAAP,CAOD,CAED,cAAeT,CAAAA,OAAf","sourcesContent":["import React from \"react\";\r\nimport { toast } from \"../helpers/toast\";\r\n\r\nfunction useForm(initialState, validate, action) {\r\n  const [values, setValues] = React.useState(initialState);\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isSubmitting, setSubmitting] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (isSubmitting) {\r\n      const noErrors = Object.keys(errors).length === 0;\r\n      if (noErrors) {\r\n        action();\r\n        setValues(initialState);\r\n        setSubmitting(false);\r\n      } else {\r\n        toast(Object.values(errors).join(\" \"));\r\n        setSubmitting(false);\r\n      }\r\n    }\r\n    //eslint-disabled-next-line\r\n  }, [errors]);\r\n\r\n  function handleChange(event) {\r\n    setValues((previousValues) => ({\r\n      ...previousValues,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  }\r\n\r\n  function handleSubmit() {\r\n    const validationErrors = validate(values);\r\n    setErrors(validationErrors);\r\n    setSubmitting(true);\r\n  }\r\n\r\n  return {\r\n    handleSubmit,\r\n    handleChange,\r\n    values,\r\n    setValues,\r\n    isSubmitting,\r\n  };\r\n}\r\n\r\nexport default useForm;\r\n"]},"metadata":{},"sourceType":"module"}