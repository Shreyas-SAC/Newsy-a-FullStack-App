{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\src\\\\components\\\\Link\\\\LinkList.js\";\nimport React from \"react\";\nimport firebase from \"../../firebase\";\nimport LinkItem from \"./LinkItem\";\n\nconst LinkList = props => {\n  const [links, setLinks] = React.useState([]);\n  const isTrending = props.location.pathname.includes(\"trending\");\n  React.useEffect(() => {\n    const unsubscribe = getLinks();\n    return () => unsubscribe(); // eslint-disable-next-line\n  }, [isTrending]);\n\n  function getLinks() {\n    if (isTrending) {\n      return firebase.db.collection(\"links\").orderBy(\"voteCount\", \"desc\").onSnapshot(handleSnapshot);\n    }\n\n    return firebase.db.collection(\"links\").orderBy(\"created\", \"desc\").onSnapshot(handleSnapshot);\n  }\n\n  function handleSnapshot(snapshot) {\n    const links = snapshot.docs.map(doc => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    });\n    setLinks(links);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, links.map((link, index) => /*#__PURE__*/React.createElement(LinkItem, {\n    key: link.id,\n    showCount: true,\n    url: `/link/${link.id}`,\n    link: link,\n    index: index + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default LinkList;","map":{"version":3,"sources":["C:/Users/shrey/Desktop/ReactProject/Newsy/src/components/Link/LinkList.js"],"names":["React","firebase","LinkItem","LinkList","props","links","setLinks","useState","isTrending","location","pathname","includes","useEffect","unsubscribe","getLinks","db","collection","orderBy","onSnapshot","handleSnapshot","snapshot","docs","map","doc","id","data","link","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,KAAK,CAACO,QAAN,CAAe,EAAf,CAA1B;AACA,QAAMC,UAAU,GAAGJ,KAAK,CAACK,QAAN,CAAeC,QAAf,CAAwBC,QAAxB,CAAiC,UAAjC,CAAnB;AAEAX,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpB,UAAMC,WAAW,GAAGC,QAAQ,EAA5B;AACA,WAAO,MAAMD,WAAW,EAAxB,CAFoB,CAGpB;AACD,GAJD,EAIG,CAACL,UAAD,CAJH;;AAMA,WAASM,QAAT,GAAoB;AAClB,QAAIN,UAAJ,EAAgB;AACd,aAAOP,QAAQ,CAACc,EAAT,CACJC,UADI,CACO,OADP,EAEJC,OAFI,CAEI,WAFJ,EAEiB,MAFjB,EAGJC,UAHI,CAGOC,cAHP,CAAP;AAID;;AACD,WAAOlB,QAAQ,CAACc,EAAT,CACJC,UADI,CACO,OADP,EAEJC,OAFI,CAEI,SAFJ,EAEe,MAFf,EAGJC,UAHI,CAGOC,cAHP,CAAP;AAID;;AAED,WAASA,cAAT,CAAwBC,QAAxB,EAAkC;AAChC,UAAMf,KAAK,GAAGe,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBC,GAAD,IAAS;AACvC,aAAO;AAAEC,QAAAA,EAAE,EAAED,GAAG,CAACC,EAAV;AAAc,WAAGD,GAAG,CAACE,IAAJ;AAAjB,OAAP;AACD,KAFa,CAAd;AAGAnB,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACD;;AAED,sBACE,0CACGA,KAAK,CAACiB,GAAN,CAAU,CAACI,IAAD,EAAOC,KAAP,kBACT,oBAAC,QAAD;AACE,IAAA,GAAG,EAAED,IAAI,CAACF,EADZ;AAEE,IAAA,SAAS,EAAE,IAFb;AAGE,IAAA,GAAG,EAAG,SAAQE,IAAI,CAACF,EAAG,EAHxB;AAIE,IAAA,IAAI,EAAEE,IAJR;AAKE,IAAA,KAAK,EAAEC,KAAK,GAAG,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CADF;AAaD,CA3CD;;AA6CA,eAAexB,QAAf","sourcesContent":["import React from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport LinkItem from \"./LinkItem\";\r\n\r\nconst LinkList = (props) => {\r\n  const [links, setLinks] = React.useState([]);\r\n  const isTrending = props.location.pathname.includes(\"trending\");\r\n\r\n  React.useEffect(() => {\r\n    const unsubscribe = getLinks();\r\n    return () => unsubscribe();\r\n    // eslint-disable-next-line\r\n  }, [isTrending]);\r\n\r\n  function getLinks() {\r\n    if (isTrending) {\r\n      return firebase.db\r\n        .collection(\"links\")\r\n        .orderBy(\"voteCount\", \"desc\")\r\n        .onSnapshot(handleSnapshot);\r\n    }\r\n    return firebase.db\r\n      .collection(\"links\")\r\n      .orderBy(\"created\", \"desc\")\r\n      .onSnapshot(handleSnapshot);\r\n  }\r\n\r\n  function handleSnapshot(snapshot) {\r\n    const links = snapshot.docs.map((doc) => {\r\n      return { id: doc.id, ...doc.data() };\r\n    });\r\n    setLinks(links);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {links.map((link, index) => (\r\n        <LinkItem\r\n          key={link.id}\r\n          showCount={true}\r\n          url={`/link/${link.id}`}\r\n          link={link}\r\n          index={index + 1}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LinkList;\r\n"]},"metadata":{},"sourceType":"module"}