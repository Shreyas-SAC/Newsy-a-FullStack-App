{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shrey\\\\Desktop\\\\ReactProject\\\\Newsy\\\\src\\\\pages\\\\Tabs\\\\Submit.js\";\nimport React from \"react\";\nimport { IonPage, IonContent, IonItem, IonLabel, IonInput, IonRow, IonCol, IonButton } from \"@ionic/react\";\nimport SmallHeader from \"../../components/Header/SmallHeader\";\nimport LargeHeader from \"../../components/Header/LargeHeader\";\nimport UserContext from \"../../contexts/UserContext\";\nimport useForm from \"../../hooks/useForm\";\nimport firebase from \"../../firebase\";\nimport validateCreateLink from \"../../validators/validateCreateLink\";\nconst INITIAL_STATE = {\n  description: \"\",\n  url: \"\"\n};\n\nconst Submit = props => {\n  const {\n    user\n  } = React.useContext(UserContext);\n  const {\n    handleSubmit,\n    handleChange,\n    values\n  } = useForm(INITIAL_STATE, validateCreateLink, handleCreateLink);\n\n  function handleCreateLink() {\n    if (!user) {\n      props.history.push(\"/login\");\n    } else {\n      const {\n        url,\n        description\n      } = values;\n      const newLink = {\n        url,\n        description,\n        postedBy: {\n          id: user.uid,\n          name: user.displayName\n        },\n        voteCount: 1,\n        votes: [],\n        comments: [],\n        created: Date.now()\n      };\n      firebase.db.collection(\"links\").add(newLink);\n      props.history.push(\"/\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SmallHeader, {\n    title: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LargeHeader, {\n    title: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(IonItem, {\n    lines: \"full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(IonInput, {\n    name: \"description\",\n    value: values.description,\n    type: \"text\",\n    onIonChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    lines: \"full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"URL\"), /*#__PURE__*/React.createElement(IonInput, {\n    name: \"url\",\n    value: values.url,\n    type: \"url\",\n    onIonChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    type: \"submit\",\n    color: \"primary\",\n    expand: \"block\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Submit\")))));\n};\n\nexport default Submit;","map":{"version":3,"sources":["C:/Users/shrey/Desktop/ReactProject/Newsy/src/pages/Tabs/Submit.js"],"names":["React","IonPage","IonContent","IonItem","IonLabel","IonInput","IonRow","IonCol","IonButton","SmallHeader","LargeHeader","UserContext","useForm","firebase","validateCreateLink","INITIAL_STATE","description","url","Submit","props","user","useContext","handleSubmit","handleChange","values","handleCreateLink","history","push","newLink","postedBy","id","uid","name","displayName","voteCount","votes","comments","created","Date","now","db","collection","add"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonRow,\r\n  IonCol,\r\n  IonButton,\r\n} from \"@ionic/react\";\r\nimport SmallHeader from \"../../components/Header/SmallHeader\";\r\nimport LargeHeader from \"../../components/Header/LargeHeader\";\r\nimport UserContext from \"../../contexts/UserContext\";\r\nimport useForm from \"../../hooks/useForm\";\r\nimport firebase from \"../../firebase\";\r\nimport validateCreateLink from \"../../validators/validateCreateLink\";\r\n\r\nconst INITIAL_STATE = {\r\n  description: \"\",\r\n  url: \"\",\r\n};\r\n\r\nconst Submit = (props) => {\r\n  const { user } = React.useContext(UserContext);\r\n  const { handleSubmit, handleChange, values } = useForm(\r\n    INITIAL_STATE,\r\n    validateCreateLink,\r\n    handleCreateLink\r\n  );\r\n\r\n  function handleCreateLink() {\r\n    if (!user) {\r\n      props.history.push(\"/login\");\r\n    } else {\r\n      const { url, description } = values;\r\n      const newLink = {\r\n        url,\r\n        description,\r\n        postedBy: {\r\n          id: user.uid,\r\n          name: user.displayName,\r\n        },\r\n        voteCount: 1,\r\n        votes: [],\r\n        comments: [],\r\n        created: Date.now(),\r\n      };\r\n      firebase.db.collection(\"links\").add(newLink);\r\n      props.history.push(\"/\");\r\n    }\r\n  }\r\n  return (\r\n    <IonPage>\r\n      <SmallHeader title=\"Submit\" />\r\n      <IonContent fullscreen>\r\n        <LargeHeader title=\"Submit\" />\r\n        <IonItem lines=\"full\">\r\n          <IonLabel position=\"floating\">Description</IonLabel>\r\n          <IonInput\r\n            name=\"description\"\r\n            value={values.description}\r\n            type=\"text\"\r\n            onIonChange={handleChange}\r\n            required\r\n          ></IonInput>\r\n        </IonItem>\r\n\r\n        <IonItem lines=\"full\">\r\n          <IonLabel position=\"floating\">URL</IonLabel>\r\n          <IonInput\r\n            name=\"url\"\r\n            value={values.url}\r\n            type=\"url\"\r\n            onIonChange={handleChange}\r\n            required\r\n          ></IonInput>\r\n        </IonItem>\r\n        <IonRow>\r\n          <IonCol>\r\n            <IonButton\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              expand=\"block\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Submit\r\n            </IonButton>\r\n          </IonCol>\r\n        </IonRow>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Submit;\r\n"]},"metadata":{},"sourceType":"module"}